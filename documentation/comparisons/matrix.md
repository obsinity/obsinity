# üìä Comparative Matrix: Obsinity vs InfluxDB vs Dynatrace vs MongoDB Time Series

| Feature / Capability             | **Obsinity + PostgreSQL**                                                                                                                                                                                                                             | **InfluxDB**                                                              | **Dynatrace**                                                                                              | **MongoDB Time Series**                                               |
| -------------------------------- |-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------| ------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------- |
| **Core Data Model**              | Raw events in partitioned tables (time + event name indexed). Ingest pipeline materialises counts, histograms, gauges, states, and transitions into rollup tables (5s ‚Üí 1m ‚Üí 1h ‚Üí 1d ‚Üí 7d). Attributes stored separately in an attribute index table. | Time series engine (TSM/TSI). Points = `(measurement, tags, fields, ts)`. | Proprietary observability graph (entities, metrics, traces, logs).                                         | Buckets collection: compressed documents with ranges of measurements. |
| **Raw Data Retrieval**           | ‚úÖ Raw events fully queryable until TTL expiry.                                                                                                                                                                                                        | ‚úÖ Raw points retrievable until retention policy expiry.                   | ‚ö†Ô∏è Raw data is short-lived; long-term queries use pre-aggregates.                                          | ‚úÖ Raw points retrievable from bucket docs until TTL expiry.           |
| **Rollups**                      | ‚úÖ Native ingest-time rollups. Always available at multiple resolutions.                                                                                                                                                                               | ‚ùå Query-time aggregation. Downsampling via Continuous Queries/Tasks.      | ‚úÖ Automatic multi-resolution rollups built-in.                                                             | ‚ùå Manual rollups via `$group + $merge`.                               |
| **Counters**                     | ‚úÖ Derived from **counter definitions**. Obsinity counts events at ingest into rollup tables. No direct user-managed increment.                                                                                                                        | ‚úÖ Numeric counter fields. Client pushes incremented values.               | ‚úÖ Monotonic counters supported (e.g., request counts).                                                     | ‚úÖ Numeric fields can act as counters; increments are app-managed.     |
| **Histograms**                   | ‚úÖ First-class. Compact ingest-time histograms, mergeable in rollups.                                                                                                                                                                                  | ‚ùå Not native (must simulate via `_le` buckets).                           | ‚úÖ Built-in latency/response histograms.                                                                    | ‚ùå Not native (must store bins manually).                              |
| **Gauges**                       | ‚úÖ First-class. Ingest-time gauges (snapshot values).                                                                                                                                                                                                  | ‚úÖ Supported as numeric fields.                                            | ‚úÖ Supported.                                                                                               | ‚úÖ Numeric fields can represent gauges.                                |
| **States (Application-defined)** | ‚úÖ First-class. Ingest-time **state counters** track how many entities in each state per bucket.                                                                                                                                                       | ‚ùå Not supported.                                                          | ‚ö†Ô∏è Only built-in infra states (healthy, warn, error). Application states modeled as custom metrics/events. | ‚ùå Not native. Must simulate as string fields.                         |
| **State Transitions**            | ‚úÖ First-class. Ingest-time **transition counters** track A‚ÜíB transitions per bucket.                                                                                                                                                                  | ‚ùå Not supported.                                                          | ‚ö†Ô∏è Transitions logged as events, not counters.                                                             | ‚ùå Not supported.                                                      |
| **Query Language**               | **OB-SQL / OB-JQL**: SQL-like DSL (not ANSI SQL). Extended with rollup, state, and transition operators. Internally rewritten into hidden CTEs that join events, rollups, and attribute indexes.                                                      | InfluxQL (SQL-like) + Flux (functional).                                  | DQL (Dynatrace Query Language). Proprietary DSL.                                                           | Mongo Aggregation Framework (JSON DSL) or MongoQL.                    |
| **Indexing**                     | ‚úÖ PostgreSQL B-tree & BRIN indexes on **timestamp** and **event name**. Special **attribute index table** supports arbitrary dimensions. Queries resolved via hidden CTEs.                                                                            | TSI indexes on tags for efficient filtering.                              | Proprietary graph + time indexes.                                                                          | Auto index on `timeField` + `metaField`.                              |
| **Retention**                    | Partitoned based, keeps partitions to configued time span                                                                                                                                                                                             | Retention policies + optional downsampling.                               | Proprietary: raw short-lived, aggregates retained.                                                         | TTL on raw; rollups manual.                                           |
| **Extensibility**                | ‚úÖ Open: PostgreSQL ecosystem (FDW, JSONB, PL/pgSQL, extensions).                                                                                                                                                                                      | Limited to Influx ecosystem.                                              | Closed SaaS; extend via APIs.                                                                              | ‚úÖ Open: general-purpose DB.                                           |

---

‚úÖ **Key Differentiators**

* **Obsinity**: First-class states & transitions; ingest-time rollups; SQL-like query language with hidden CTE optimization; attribute index table for arbitrary dimensions.
* **InfluxDB**: Strong time-series core, but counters/gauges only, no ingest-time rollups, no states.
* **Dynatrace**: Powerful SaaS, but states are limited to built-in health model, transitions are events not counters, raw data short-lived.
* **MongoDB**: General-purpose DB with time-series support, but rollups and state/counter logic are DIY.
